<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EST 119</title>

  <style>
    :root {
      --bg: #0a0a0a;
      --card: #141414;
      --card-hover: #1e1e1e;
      --text: #ffffff;
      --accent: #00c3ff;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      text-align: center;
      animation: fadeIn 1s ease-in-out;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    header { padding: 40px 20px; }

    h1 { font-size: 3.2rem; margin-bottom: 10px; animation: slideDown 1s ease; }
    @keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

    /* NAV */
    nav {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 25px;
    }

    nav a {
      color: var(--accent);
      text-decoration: none;
      font-size: 1.2rem;
      transition: 0.3s;
    }

    nav a:hover { text-shadow: 0 0 10px var(--accent); }

    /* SEARCH */
    #searchBox {
      width: 60%;
      padding: 12px;
      font-size: 1.1rem;
      border-radius: 10px;
      border: none;
      outline: none;
      background: #1a1a1a;
      color: white;
      transition: 0.3s;
      margin-bottom: 35px;
    }

    #searchBox:focus { transform: scale(1.03); box-shadow: 0 0 12px var(--accent); }

    /* HUB */
    .hub { display: none; margin-top: 40px; }
    .hub.active { display: block; animation: fadeIn 0.5s; }

    .hub-buttons { display: flex; justify-content: center; gap: 20px; margin-bottom: 30px; }
    .hub-buttons button {
      background: var(--card);
      border: none;
      padding: 12px 20px;
      font-size: 1.2rem;
      color: white;
      border-radius: 12px;
      cursor: pointer;
      transition: 0.3s;
    }
    .hub-buttons button:hover { background: var(--card-hover); transform: scale(1.07); }

    /* GAME ZONES */
    .game-zones {
      max-width: 900px;
      margin: 0 auto;
      display: none;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 20px;
    }

    .game-zones.active { display: grid; }

    .zone {
      background: var(--card);
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 10px #00000060;
      transition: 0.3s;
    }

    .zone h3 { margin-bottom: 12px; color: var(--accent); }

    .game-item {
      background: #111;
      padding: 12px;
      border-radius: 10px;
      margin-bottom: 12px;
    }

    .download-btn { color: var(--accent); text-decoration: none; font-weight: bold; }

    /* CONTACT */
    .contact { margin-top: 50px; padding: 20px; }
    .contact p { margin: 6px 0; }
  </style>
</head>
<body>

  <header>
    <h1>EST 119</h1>

    <nav>
      <a href="#" onclick="showHome()">Home</a>
      <a href="#" onclick="showHub()">Hub</a>
    </nav>
  </header>

  <!-- HOME -->
  <section id="home" class="hub active">
    <h2>Bienvenido a EST 119</h2>
    <p>Tu centro de descargas de juegos</p>
  </section>

  <!-- HUB -->
  <section id="hub" class="hub">
    <h2>Hub de Juegos</h2>

    <div class="hub-buttons">
      <button onclick="showCategory('single')">Single Player</button>
      <button onclick="showCategory('multi')">Multiplayer</button>
      <button onclick="showCategory('beta')">Beta / Test</button>
    </div>

    <input type="text" id="searchBox" placeholder="Buscar juegos..." onkeyup="searchGames()" />

    <!-- CATEGOR√çAS -->
    <div id="single" class="game-zones">
      <div class="zone">
        <h3>Zona Single Player</h3>
        <div class="game-item" data-name="ejemplo" data-zone="single">
          <strong>Juego Ejemplo</strong><br>
          <a class="download-btn" href="descargas/juego-ejemplo.zip">Descargar</a>
        </div>
      </div>
    </div>

    <div id="multi" class="game-zones">
      <div class="zone">
        <h3>Zona Multiplayer</h3>
        <div class="game-item" data-name="raise-a-pug" data-zone="multi">
          <strong>üê∂ Raise A Pug</strong><br>
          <a class="download-btn" href="descargas/raise-a-pug.rbxl">Descargar</a>
        </div>
      </div>
    </div>

    <div id="beta" class="game-zones">
      <div class="zone">
        <h3>Zona Beta / Pruebas</h3>
        <div class="game-item" data-name="beta-test" data-zone="beta">
          <strong>Beta Test</strong><br>
          <a class="download-btn" href="descargas/beta.zip">Descargar</a>
        </div>
      </div>
    </div>

  </section>

  <!-- CONTACTO -->
  <section class="contact">
    <h2>Contacto</h2>
    <p>Cont√°ctanos para solicitar el juego deseado</p>
    <p>N√∫mero: TU_NUMERO</p>
    <p>Correo: TU_CORREO</p>
  </section>

  <script>
    function showHome() {
      document.getElementById('home').classList.add('active');
      document.getElementById('hub').classList.remove('active');
      // hide all category grids when on home
      document.querySelectorAll('.game-zones').forEach(g => g.classList.remove('active'));
    }

    function showHub() {
      document.getElementById('hub').classList.add('active');
      document.getElementById('home').classList.remove('active');
    }

    function showCategory(id) {
      // hide other grids and show the chosen category grid
      document.querySelectorAll('.game-zones').forEach(div => div.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function searchGames() {
      const input = document.getElementById("searchBox").value.toLowerCase().trim();
      const items = Array.from(document.querySelectorAll(".game-item"));
      if (!input) {
        // empty search -> show everything (but keep category grids hidden until user selects)
        items.forEach(it => it.style.display = "block");
        return;
      }

      // find matches split by zone
      const matchesByZone = {
        single: [],
        multi: [],
        beta: []
      };

      items.forEach(item => {
        const name = item.getAttribute("data-name") || "";
        const zone = item.getAttribute("data-zone") || "single";
        if (name.includes(input)) matchesByZone[zone].push(item);
      });

      // Priority: show matches in non-single zones first (multi, beta). Only show single matches if there are no matches in other zones.
      const nonSingleMatches = matchesByZone.multi.concat(matchesByZone.beta);
      if (nonSingleMatches.length > 0) {
        // show only non-single matches
        items.forEach(it => it.style.display = "none");
        nonSingleMatches.forEach(it => it.style.display = "block");
      } else {
        // show single matches (if any) and hide others
        items.forEach(it => it.style.display = "none");
        matchesByZone.single.forEach(it => it.style.display = "block");
      }

      // Make sure the category grid that contains shown items becomes visible so user can see results
      ['single','multi','beta'].forEach(z => {
        const grid = document.getElementById(z);
        const hasVisible = Array.from(grid.querySelectorAll('.game-item')).some(i => i.style.display !== 'none');
        if (hasVisible) grid.classList.add('active'); else grid.classList.remove('active');
      });

      // show the hub if not already
      showHub();
    }
  </script>

</body>
</html>
